<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive quiz testing knowledge of HTML5, CSS frameworks, responsive design, and modern web development practices covered in the W3Schools template analysis.">
    <title>Interactive Quiz - W3Schools Template Analysis</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Skip to main content -->
    <a href="#main-content" class="skip-link" style="position: absolute; left: -9999px; top: -9999px; z-index: 999; padding: 8px 16px; background: #000; color: #fff; text-decoration: none;">Skip to main content</a>

    <!-- Main Navigation -->
    <nav class="main-nav" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <div class="logo">
                <h1>Template Analysis</h1>
            </div>
            
            <button class="menu-toggle" aria-label="Toggle mobile menu" aria-expanded="false">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <ul class="nav-menu" role="menubar">
                <li role="none"><a href="index.html" class="nav-link" role="menuitem">Home</a></li>
                <li role="none"><a href="framework-analysis.html" class="nav-link" role="menuitem">Framework Analysis</a></li>
                <li role="none"><a href="responsive-design.html" class="nav-link" role="menuitem">Responsive Design</a></li>
                <li role="none"><a href="semantic-html.html" class="nav-link" role="menuitem">Semantic HTML</a></li>
                <li role="none"><a href="references.html" class="nav-link" role="menuitem">References</a></li>
                <li role="none"><a href="quiz.html" class="nav-link active" role="menuitem" aria-current="page">Quiz</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Header -->
    <header class="page-header quiz-header" role="banner">
        <div class="container">
            <h1>Interactive Knowledge Assessment</h1>
            <p class="page-subtitle">Test your understanding of HTML5, CSS frameworks, responsive design, and modern web development practices</p>
        </div>
    </header>

    <!-- Main Content -->
    <main id="main-content" class="container" role="main">
        <!-- Quiz Instructions -->
        <section class="quiz-instructions" id="instructions" aria-labelledby="instructions-heading">
            <h2 id="instructions-heading">Quiz Instructions & Overview</h2>
            <div class="instructions-content">
                <h3>üìã Before You Begin</h3>
                <p>This comprehensive assessment evaluates your understanding of the concepts covered in our W3Schools Architect Template analysis. The quiz encompasses HTML5 semantics, CSS framework implementation, responsive design principles, and modern web development best practices.</p>
                
                <div class="instruction-list">
                    <article class="instruction-item">
                        <h4>üìñ Content Coverage</h4>
                        <ul>
                            <li>W3.CSS framework architecture and implementation</li>
                            <li>Responsive design principles and mobile-first methodology</li>
                            <li>HTML5 semantic structure and accessibility features</li>
                            <li>Performance optimization and best practices</li>
                            <li>Modern web development standards and techniques</li>
                        </ul>
                    </article>
                    
                    <article class="instruction-item">
                        <h4>üìù Question Format Guidelines</h4>
                        <ul>
                            <li>Read each question carefully before selecting your answer(s)</li>
                            <li>Multiple choice questions have only one correct answer</li>
                            <li>Checkbox questions may have multiple correct answers - select all that apply</li>
                            <li>Fill-in-the-blank questions are case-sensitive and require exact matches</li>
                            <li>Review your answers before submitting - you can change them until submission</li>
                        </ul>
                    </article>
                    
                    <article class="instruction-item">
                        <h4>üéØ Scoring & Assessment</h4>
                        <ul>
                            <li>You need a score of 70% or higher to pass the assessment</li>
                            <li>Each question is worth equal points toward your total score</li>
                            <li>Partial credit is not awarded for partially correct answers</li>
                            <li>You may retake the quiz if you don't achieve a passing score</li>
                            <li>Detailed explanations are provided for all answers after submission</li>
                        </ul>
                    </article>
                </div>
                
                <h3>üéØ Assessment Structure</h3>
                <div class="summary-stats" role="region" aria-label="Quiz statistics">
                    <div class="stat-item">
                        <h4>Questions</h4>
                        <p class="stat-number">10</p>
                    </div>
                    <div class="stat-item">
                        <h4>Total Points</h4>
                        <p class="stat-number">20</p>
                    </div>
                    <div class="stat-item">
                        <h4>Passing Score</h4>
                        <p class="stat-number">14</p>
                    </div>
                    <div class="stat-item">
                        <h4>Time Limit</h4>
                        <p class="stat-number">None</p>
                    </div>
                </div>
                
                <div class="quiz-actions">
                    <button id="startQuiz" class="quiz-start-btn">Begin Assessment</button>
                </div>
            </div>
        </section>

        <!-- Quiz Form -->
        <section class="quiz-container" id="quizContainer" style="display: none;" aria-labelledby="quiz-heading">
            <h2 id="quiz-heading">W3Schools Template Analysis Assessment</h2>
            <div class="quiz-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
                <span class="progress-text" id="progressText">Question 1 of 10</span>
            </div>
            
            <form id="quizForm" role="form" aria-label="Knowledge assessment quiz">
                <!-- Question 1: W3.CSS Framework -->
                <div class="question-card" data-question="1">
                    <div class="question-header">
                        <h3>Question 1</h3>
                        <span class="question-points">2 points</span>
                    </div>
                    <p class="question-text">What is the primary advantage of the W3.CSS framework compared to Bootstrap?</p>
                    <div class="options" role="radiogroup" aria-labelledby="q1-label">
                        <p id="q1-label" class="sr-only">Select the best answer</p>
                        <label class="option">
                            <input type="radio" name="q1" value="a" aria-describedby="q1-a-desc">
                            <span class="option-text">It has more built-in components and widgets</span>
                            <span id="q1-a-desc" class="sr-only">Option A</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="b" aria-describedby="q1-b-desc">
                            <span class="option-text">It requires no JavaScript dependencies and is lighter</span>
                            <span id="q1-b-desc" class="sr-only">Option B</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="c" aria-describedby="q1-c-desc">
                            <span class="option-text">It has better cross-browser compatibility</span>
                            <span id="q1-c-desc" class="sr-only">Option C</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q1" value="d" aria-describedby="q1-d-desc">
                            <span class="option-text">It includes jQuery by default for enhanced functionality</span>
                            <span id="q1-d-desc" class="sr-only">Option D</span>
                        </label>
                    </div>
                </div>

                <!-- Question 2: Grid System -->
                <div class="question-card" data-question="2">
                    <div class="question-header">
                        <h3>Question 2</h3>
                        <span class="question-points">2 points</span>
                    </div>
                    <p class="question-text">In the W3.CSS grid system, what layout does the class combination "w3-col l3 m6" create?</p>
                    <div class="options" role="radiogroup" aria-labelledby="q2-label">
                        <p id="q2-label" class="sr-only">Select the best answer</p>
                        <label class="option">
                            <input type="radio" name="q2" value="a">
                            <span class="option-text">3 columns on large screens, 6 columns on medium screens</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="b">
                            <span class="option-text">25% width on large screens, 50% width on medium screens</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="c">
                            <span class="option-text">33% width on large screens, 60% width on medium screens</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q2" value="d">
                            <span class="option-text">Fixed width of 300px on all screen sizes</span>
                        </label>
                    </div>
                </div>

                <!-- Question 3: Mobile-First Design -->
                <div class="question-card" data-question="3">
                    <div class="question-header">
                        <h3>Question 3</h3>
                        <span class="question-points">2 points</span>
                    </div>
                    <p class="question-text">What is the mobile-first approach in responsive web design?</p>
                    <div class="options" role="radiogroup" aria-labelledby="q3-label">
                        <p id="q3-label" class="sr-only">Select the best answer</p>
                        <label class="option">
                            <input type="radio" name="q3" value="a">
                            <span class="option-text">Designing exclusively for mobile devices and ignoring desktop</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="b">
                            <span class="option-text">Starting with mobile styles as the base and progressively enhancing for larger screens</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="c">
                            <span class="option-text">Creating separate mobile versions after completing desktop design</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q3" value="d">
                            <span class="option-text">Using only CSS properties specifically designed for mobile browsers</span>
                        </label>
                    </div>
                </div>

                <!-- Question 4: Fill in the Blank -->
                <div class="question-card" data-question="4">
                    <div class="question-header">
                        <h3>Question 4</h3>
                        <span class="question-points">2 points</span>
                    </div>
                    <p class="question-text">
                        Complete the W3.CSS class name: The class "w3-<input type="text" id="q4" name="q4" class="fill-blank" placeholder="answer" aria-label="Fill in the missing word">-small" is used to hide elements on small screens.
                    </p>
                    <div class="hint">
                        <p>üí° <strong>Hint:</strong> This class makes elements disappear on mobile devices to create cleaner mobile layouts.</p>
                    </div>
                </div>

                <!-- Question 5: Multiple Answers -->
                <div class="question-card" data-question="5">
                    <div class="question-header">
                        <h3>Question 5</h3>
                        <span class="question-points">2 points</span>
                    </div>
                    <p class="question-text">Which of the following are benefits of using semantic HTML5 elements? (Select all that apply)</p>
                    <div class="options" role="group" aria-labelledby="q5-label">
                        <p id="q5-label" class="sr-only">Select all correct answers</p>
                        <label class="option checkbox-option">
                            <input type="checkbox" name="q5" value="a">
                            <span class="option-text">Improved accessibility for screen readers and assistive technologies</span>
                        </label>
                        <label class="option checkbox-option">
                            <input type="checkbox" name="q5" value="b">
                            <span class="option-text">Better SEO optimization and search engine understanding</span>
                        </label>
                        <label class="option checkbox-option">
                            <input type="checkbox" name="q5" value="c">
                            <span class="option-text">Significantly faster page loading times</span>
                        </label>
                        <label class="option checkbox-option">
                            <input type="checkbox" name="q5" value="d">
                            <span class="option-text">Clearer code structure and enhanced maintainability</span>
                        </label>
                    </div>
                </div>

                <!-- Question 6: Performance -->
                <div class="question-card" data-question="6">
                    <div class="question-header">
                        <h3>Question 6</h3>
                        <span class="question-points">2 points</span>
                    </div>
                    <p class="question-text">According to our analysis, what is the approximate file size of the W3.CSS framework?</p>
                    <div class="options" role="radiogroup" aria-labelledby="q6-label">
                        <p id="q6-label" class="sr-only">Select the best answer</p>
                        <label class="option">
                            <input type="radio" name="q6" value="a">
                            <span class="option-text">~50KB (similar to Bootstrap)</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q6" value="b">
                            <span class="option-text">~20KB (significantly lighter than Bootstrap)</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q6" value="c">
                            <span class="option-text">~8KB (ultra-lightweight framework)</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q6" value="d">
                            <span class="option-text">~100KB (feature-rich comprehensive framework)</span>
                        </label>
                    </div>
                </div>

                <!-- Question 7: ARIA and Accessibility -->
                <div class="question-card" data-question="7">
                    <div class="question-header">
                        <h3>Question 7</h3>
                        <span class="question-points">2 points</span>
                    </div>
                    <p class="question-text">What does ARIA stand for in the context of web accessibility?</p>
                    <div class="options" role="radiogroup" aria-labelledby="q7-label">
                        <p id="q7-label" class="sr-only">Select the best answer</p>
                        <label class="option">
                            <input type="radio" name="q7" value="a">
                            <span class="option-text">Advanced Responsive Internet Applications</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="b">
                            <span class="option-text">Accessible Rich Internet Applications</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="c">
                            <span class="option-text">Automated Responsive Interface Architecture</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q7" value="d">
                            <span class="option-text">Application Resource Integration API</span>
                        </label>
                    </div>
                </div>

                <!-- Question 8: CSS Breakpoints -->
                <div class="question-card" data-question="8">
                    <div class="question-header">
                        <h3>Question 8</h3>
                        <span class="question-points">2 points</span>
                    </div>
                    <p class="question-text">Which CSS breakpoints are commonly used in the responsive design analysis? (Select all that apply)</p>
                    <div class="options" role="group" aria-labelledby="q8-label">
                        <p id="q8-label" class="sr-only">Select all correct answers</p>
                        <label class="option checkbox-option">
                            <input type="checkbox" name="q8" value="a">
                            <span class="option-text">768px for tablet devices</span>
                        </label>
                        <label class="option checkbox-option">
                            <input type="checkbox" name="q8" value="b">
                            <span class="option-text">1024px for desktop screens</span>
                        </label>
                        <label class="option checkbox-option">
                            <input type="checkbox" name="q8" value="c">
                            <span class="option-text">480px for small mobile devices</span>
                        </label>
                        <label class="option checkbox-option">
                            <input type="checkbox" name="q8" value="d">
                            <span class="option-text">1400px for large desktop displays</span>
                        </label>
                    </div>
                </div>

                <!-- Question 9: Template Structure -->
                <div class="question-card" data-question="9">
                    <div class="question-header">
                        <h3>Question 9</h3>
                        <span class="question-points">2 points</span>
                    </div>
                    <p class="question-text">Fill in the missing HTML5 semantic element: The &lt;<input type="text" id="q9" name="q9" class="fill-blank" placeholder="element" aria-label="HTML element name">&gt; element should be used to wrap the main content of a web page.</p>
                    <div class="hint">
                        <p>üí° <strong>Hint:</strong> This element identifies the primary content area and is important for accessibility and screen readers.</p>
                    </div>
                </div>

                <!-- Question 10: Best Practices -->
                <div class="question-card" data-question="10">
                    <div class="question-header">
                        <h3>Question 10</h3>
                        <span class="question-points">2 points</span>
                    </div>
                    <p class="question-text">According to our analysis, what is the overall rating given to the W3Schools Architect Template?</p>
                    <div class="options" role="radiogroup" aria-labelledby="q10-label">
                        <p id="q10-label" class="sr-only">Select the best answer</p>
                        <label class="option">
                            <input type="radio" name="q10" value="a">
                            <span class="option-text">7.5/10 - Good with room for improvement</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="b">
                            <span class="option-text">8.5/10 - Very good implementation</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="c">
                            <span class="option-text">9.5/10 - Excellent modern template</span>
                        </label>
                        <label class="option">
                            <input type="radio" name="q10" value="d">
                            <span class="option-text">6.0/10 - Adequate but needs significant updates</span>
                        </label>
                    </div>
                </div>

                <div class="quiz-actions">
                    <button type="submit" class="submit-btn">Submit Assessment</button>
                    <button type="button" id="resetQuiz" class="reset-btn">Reset All Answers</button>
                </div>
            </form>
        </section>

        <!-- Results Section -->
        <section class="quiz-results" id="quizResults" style="display: none;" aria-labelledby="results-heading">
            <div class="results-header">
                <h2 id="results-heading">Assessment Results</h2>
                <div class="score-display">
                    <div class="score-container">
                        <div class="total-score">
                            <span id="finalScore">0</span> / <span id="totalPoints">20</span>
                        </div>
                        <div class="percentage">
                            <span id="percentage">0%</span>
                        </div>
                        <div class="pass-fail">
                            <span id="passFailResult">-</span>
                        </div>
                    </div>
                    <div class="score-interpretation">
                        <p id="scoreMessage">Your performance interpretation will appear here.</p>
                    </div>
                </div>
            </div>

            <div class="detailed-results" id="detailedResults" role="region" aria-label="Detailed question results">
                <!-- Results will be populated by JavaScript -->
            </div>

            <div class="results-actions">
                <button id="retakeQuiz" class="retake-btn">Retake Assessment</button>
                <a href="index.html" class="home-btn">Return to Home</a>
                <button id="printResults" class="print-btn">Print Results</button>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="site-footer" role="contentinfo">
        <div class="footer-content">
            <p>&copy; 2025 Template Analysis Project by Brennan Klein</p>
            <p>This is a class project for <a href="https://ksuweb.github.io/IT3203/" target="_blank" rel="noopener">IT3203 - Web Development</a> at Kennesaw State University</p>
        </div>
    </footer>

    <!-- JavaScript for Quiz Functionality -->
    <script>
        // Quiz Data and Correct Answers
        const quizData = {
            q1: { 
                correct: 'b', 
                points: 2,
                explanation: 'W3.CSS requires no JavaScript dependencies and has a much smaller file size (~20KB) compared to Bootstrap (~50KB), making it lighter and faster to load.'
            },
            q2: { 
                correct: 'b', 
                points: 2,
                explanation: 'In W3.CSS grid system, "l3" means 3/12 = 25% width on large screens, and "m6" means 6/12 = 50% width on medium screens.'
            },
            q3: { 
                correct: 'b', 
                points: 2,
                explanation: 'Mobile-first approach means starting with base styles optimized for mobile devices and then progressively enhancing the design for larger screens using min-width media queries.'
            },
            q4: { 
                correct: 'hide', 
                points: 2,
                explanation: 'The class "w3-hide-small" is used to hide elements on small screens (mobile devices), creating cleaner mobile layouts by removing unnecessary content.'
            },
            q5: { 
                correct: ['a', 'b', 'd'], 
                points: 2,
                explanation: 'Semantic HTML improves accessibility for screen readers, enhances SEO optimization, and creates clearer code structure. It doesn\'t directly impact loading times significantly.'
            },
            q6: { 
                correct: 'b', 
                points: 2,
                explanation: 'According to our analysis, W3.CSS is approximately 20KB in size, making it significantly lighter than Bootstrap (50KB) and other major CSS frameworks.'
            },
            q7: { 
                correct: 'b', 
                points: 2,
                explanation: 'ARIA stands for Accessible Rich Internet Applications. It provides semantic information to assistive technologies about the meaning and behavior of elements.'
            },
            q8: { 
                correct: ['a', 'b', 'd'], 
                points: 2,
                explanation: 'Common responsive breakpoints include 768px (tablet), 1024px (desktop), and 1400px (large desktop). 480px is less commonly used in modern responsive design.'
            },
            q9: { 
                correct: 'main', 
                points: 2,
                explanation: 'The <main> element should wrap the main content of a page. It helps screen readers and other assistive technologies identify the primary content area.'
            },
            q10: { 
                correct: 'b', 
                points: 2,
                explanation: 'Our comprehensive analysis gave the W3Schools Architect Template an overall rating of 8.5/10, indicating very good implementation with some opportunities for modern enhancements.'
            }
        };

        // DOM Elements
        const instructionsSection = document.getElementById('instructions');
        const quizContainer = document.getElementById('quizContainer');
        const quizResults = document.getElementById('quizResults');
        const startQuizBtn = document.getElementById('startQuiz');
        const quizForm = document.getElementById('quizForm');
        const resetQuizBtn = document.getElementById('resetQuiz');
        const retakeQuizBtn = document.getElementById('retakeQuiz');
        const printResultsBtn = document.getElementById('printResults');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');

        let currentQuestion = 1;
        const totalQuestions = 10;

        // Initialize Quiz
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            setupProgressTracking();
        });

        function setupEventListeners() {
            startQuizBtn.addEventListener('click', startQuiz);
            resetQuizBtn.addEventListener('click', resetForm);
            retakeQuizBtn.addEventListener('click', retakeQuiz);
            printResultsBtn.addEventListener('click', printResults);
            quizForm.addEventListener('submit', submitQuiz);
            
            // Mobile menu functionality
            const menuToggle = document.querySelector('.menu-toggle');
            const navMenu = document.querySelector('.nav-menu');
            
            if (menuToggle && navMenu) {
                menuToggle.addEventListener('click', function() {
                    const isExpanded = navMenu.classList.contains('active');
                    
                    navMenu.classList.toggle('active');
                    menuToggle.classList.toggle('active');
                    menuToggle.setAttribute('aria-expanded', !isExpanded);
                    
                    if (!isExpanded) {
                        document.body.style.overflow = 'hidden';
                    } else {
                        document.body.style.overflow = '';
                    }
                });
                
                // Close menu when clicking on nav links
                const navLinks = document.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        navMenu.classList.remove('active');
                        menuToggle.classList.remove('active');
                        menuToggle.setAttribute('aria-expanded', false);
                        document.body.style.overflow = '';
                    });
                });
            }
            
            // Skip link functionality
            const skipLink = document.querySelector('.skip-link');
            if (skipLink) {
                skipLink.addEventListener('focus', function() {
                    this.style.left = '10px';
                    this.style.top = '10px';
                });
                
                skipLink.addEventListener('blur', function() {
                    this.style.left = '-9999px';
                    this.style.top = '-9999px';
                });
            }
        }

        function setupProgressTracking() {
            // Track progress through questions
            const questionCards = document.querySelectorAll('.question-card');
            const options = document.querySelectorAll('input[type="radio"], input[type="checkbox"], input[type="text"]');
            
            options.forEach(input => {
                input.addEventListener('change', updateProgress);
                input.addEventListener('input', updateProgress);
            });
        }

        function updateProgress() {
            const answeredQuestions = getAnsweredQuestions();
            const progressPercentage = (answeredQuestions / totalQuestions) * 100;
            
            progressFill.style.width = progressPercentage + '%';
            progressText.textContent = `${answeredQuestions} of ${totalQuestions} questions answered`;
        }

        function getAnsweredQuestions() {
            let answered = 0;
            
            // Check radio button questions
            for (let i = 1; i <= 10; i++) {
                if (i === 4 || i === 9) continue; // Skip fill-in-blank questions
                if (i === 5 || i === 8) continue; // Skip checkbox questions for now
                
                const radio = document.querySelector(`input[name="q${i}"]:checked`);
                if (radio) answered++;
            }
            
            // Check checkbox questions
            const q5Checked = document.querySelectorAll('input[name="q5"]:checked');
            const q8Checked = document.querySelectorAll('input[name="q8"]:checked');
            if (q5Checked.length > 0) answered++;
            if (q8Checked.length > 0) answered++;
            
            // Check fill-in-blank questions
            const q4Value = document.getElementById('q4').value.trim();
            const q9Value = document.getElementById('q9').value.trim();
            if (q4Value) answered++;
            if (q9Value) answered++;
            
            return answered;
        }

        function startQuiz() {
            instructionsSection.style.display = 'none';
            quizContainer.style.display = 'block';
            quizResults.style.display = 'none';
            resetForm();
            updateProgress();
            
            // Focus on first question for accessibility
            const firstQuestion = document.querySelector('.question-card');
            if (firstQuestion) {
                firstQuestion.scrollIntoView({ behavior: 'smooth' });
                const firstInput = firstQuestion.querySelector('input');
                if (firstInput) {
                    setTimeout(() => firstInput.focus(), 500);
                }
            }
        }

        function resetForm() {
            quizForm.reset();
            currentQuestion = 1;
            
            // Clear any previous result styling
            document.querySelectorAll('.question-card').forEach(card => {
                card.classList.remove('correct', 'incorrect');
            });
            
            // Reset progress
            progressFill.style.width = '0%';
            progressText.textContent = `0 of ${totalQuestions} questions answered`;
        }

        function retakeQuiz() {
            instructionsSection.style.display = 'block';
            quizContainer.style.display = 'none';
            quizResults.style.display = 'none';
            resetForm();
            
            // Scroll back to top
            instructionsSection.scrollIntoView({ behavior: 'smooth' });
        }

        function printResults() {
            window.print();
        }

        function submitQuiz(e) {
            e.preventDefault();
            
            let totalScore = 0;
            let results = [];

            // Question 1
            const q1Answer = document.querySelector('input[name="q1"]:checked');
            const q1Result = checkSingleChoice('q1', q1Answer ? q1Answer.value : null);
            results.push(q1Result);
            totalScore += q1Result.earned;

            // Question 2
            const q2Answer = document.querySelector('input[name="q2"]:checked');
            const q2Result = checkSingleChoice('q2', q2Answer ? q2Answer.value : null);
            results.push(q2Result);
            totalScore += q2Result.earned;

            // Question 3
            const q3Answer = document.querySelector('input[name="q3"]:checked');
            const q3Result = checkSingleChoice('q3', q3Answer ? q3Answer.value : null);
            results.push(q3Result);
            totalScore += q3Result.earned;

            // Question 4 (Fill in blank)
            const q4Answer = document.getElementById('q4').value.trim().toLowerCase();
            const q4Result = checkFillBlank('q4', q4Answer);
            results.push(q4Result);
            totalScore += q4Result.earned;

            // Question 5 (Multiple correct)
            const q5Answers = Array.from(document.querySelectorAll('input[name="q5"]:checked')).map(input => input.value);
            const q5Result = checkMultipleChoice('q5', q5Answers);
            results.push(q5Result);
            totalScore += q5Result.earned;

            // Question 6
            const q6Answer = document.querySelector('input[name="q6"]:checked');
            const q6Result = checkSingleChoice('q6', q6Answer ? q6Answer.value : null);
            results.push(q6Result);
            totalScore += q6Result.earned;

            // Question 7
            const q7Answer = document.querySelector('input[name="q7"]:checked');
            const q7Result = checkSingleChoice('q7', q7Answer ? q7Answer.value : null);
            results.push(q7Result);
            totalScore += q7Result.earned;

            // Question 8 (Multiple correct)
            const q8Answers = Array.from(document.querySelectorAll('input[name="q8"]:checked')).map(input => input.value);
            const q8Result = checkMultipleChoice('q8', q8Answers);
            results.push(q8Result);
            totalScore += q8Result.earned;

            // Question 9 (Fill in blank)
            const q9Answer = document.getElementById('q9').value.trim().toLowerCase();
            const q9Result = checkFillBlank('q9', q9Answer);
            results.push(q9Result);
            totalScore += q9Result.earned;

            // Question 10
            const q10Answer = document.querySelector('input[name="q10"]:checked');
            const q10Result = checkSingleChoice('q10', q10Answer ? q10Answer.value : null);
            results.push(q10Result);
            totalScore += q10Result.earned;

            // Display Results
            displayResults(totalScore, results);
        }

        function checkSingleChoice(questionId, userAnswer) {
            const correct = quizData[questionId].correct;
            const points = quizData[questionId].points;
            const isCorrect = userAnswer === correct;
            
            return {
                question: questionId,
                userAnswer: userAnswer || 'No answer selected',
                correctAnswer: correct,
                isCorrect: isCorrect,
                earned: isCorrect ? points : 0,
                total: points,
                explanation: quizData[questionId].explanation
            };
        }

        function checkFillBlank(questionId, userAnswer) {
            const correct = quizData[questionId].correct;
            const points = quizData[questionId].points;
            const isCorrect = userAnswer === correct;
            
            return {
                question: questionId,
                userAnswer: userAnswer || 'No answer provided',
                correctAnswer: correct,
                isCorrect: isCorrect,
                earned: isCorrect ? points : 0,
                total: points,
                explanation: quizData[questionId].explanation
            };
        }

        function checkMultipleChoice(questionId, userAnswers) {
            const correct = quizData[questionId].correct;
            const points = quizData[questionId].points;
            
            // Check if arrays are equal (same length and same elements)
            const sortedUser = userAnswers.sort();
            const sortedCorrect = [...correct].sort();
            const isCorrect = sortedUser.length === sortedCorrect.length && 
                             sortedUser.every((val, index) => val === sortedCorrect[index]);
            
            return {
                question: questionId,
                userAnswer: userAnswers.length > 0 ? userAnswers.join(', ') : 'No answers selected',
                correctAnswer: correct.join(', '),
                isCorrect: isCorrect,
                earned: isCorrect ? points : 0,
                total: points,
                explanation: quizData[questionId].explanation
            };
        }

        function displayResults(totalScore, results) {
            const totalPoints = 20;
            const percentage = Math.round((totalScore / totalPoints) * 100);
            const passed = percentage >= 70;

            // Update score display
            document.getElementById('finalScore').textContent = totalScore;
            document.getElementById('totalPoints').textContent = totalPoints;
            document.getElementById('percentage').textContent = percentage + '%';
            
            const passFailElement = document.getElementById('passFailResult');
            passFailElement.textContent = passed ? '‚úÖ PASSED' : '‚ùå FAILED';
            passFailElement.className = passed ? 'pass' : 'fail';

            // Set score interpretation message
            const scoreMessage = document.getElementById('scoreMessage');
            if (percentage >= 90) {
                scoreMessage.textContent = 'Excellent! You have a strong understanding of the material.';
                scoreMessage.className = 'excellent';
            } else if (percentage >= 80) {
                scoreMessage.textContent = 'Very good! You understand most concepts well.';
                scoreMessage.className = 'good';
            } else if (percentage >= 70) {
                scoreMessage.textContent = 'Good job! You passed with a solid understanding.';
                scoreMessage.className = 'pass';
            } else {
                scoreMessage.textContent = 'You may want to review the material and try again.';
                scoreMessage.className = 'fail';
            }

            // Create detailed results
            const detailedResults = document.getElementById('detailedResults');
            detailedResults.innerHTML = '';

            const questionTitles = [
                'W3.CSS Framework Advantages',
                'Grid System Implementation',
                'Mobile-First Design Approach',
                'CSS Class Completion',
                'Semantic HTML Benefits',
                'Framework Performance Metrics',
                'ARIA Accessibility Standards',
                'Responsive Design Breakpoints',
                'HTML5 Semantic Elements',
                'Template Overall Assessment'
            ];

            results.forEach((result, index) => {
                const resultCard = document.createElement('article');
                resultCard.className = `result-card ${result.isCorrect ? 'correct' : 'incorrect'}`;
                resultCard.setAttribute('role', 'region');
                resultCard.setAttribute('aria-label', `Question ${index + 1} result`);
                
                resultCard.innerHTML = `
                    <div class="result-header">
                        <h4>Question ${index + 1}: ${questionTitles[index]}</h4>
                        <div class="result-score">
                            <span class="points">${result.earned}/${result.total} points</span>
                            <span class="result-status" aria-label="${result.isCorrect ? 'Correct' : 'Incorrect'}">${result.isCorrect ? '‚úÖ' : '‚ùå'}</span>
                        </div>
                    </div>
                    <div class="result-details">
                        <div class="answer-comparison">
                            <div class="user-answer">
                                <strong>Your answer:</strong> ${result.userAnswer}
                            </div>
                            <div class="correct-answer">
                                <strong>Correct answer:</strong> ${result.correctAnswer}
                            </div>
                        </div>
                        <div class="explanation">
                            <strong>Explanation:</strong> ${result.explanation}
                        </div>
                    </div>
                `;
                
                detailedResults.appendChild(resultCard);
            });

            // Show results, hide quiz
            quizContainer.style.display = 'none';
            quizResults.style.display = 'block';
            
            // Scroll to results with smooth animation
            setTimeout(() => {
                quizResults.scrollIntoView({ behavior: 'smooth' });
            }, 100);

            // Announce results to screen readers
            const announcement = `Quiz completed. You scored ${totalScore} out of ${totalPoints} points, ${percentage}%. ${passed ? 'You passed the assessment.' : 'You did not pass the assessment.'}`;
            announceToScreenReader(announcement);
        }

        function announceToScreenReader(message) {
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', 'polite');
            announcement.setAttribute('aria-atomic', 'true');
            announcement.className = 'sr-only';
            announcement.textContent = message;
            document.body.appendChild(announcement);
            
            setTimeout(() => {
                document.body.removeChild(announcement);
            }, 1000);
        }

        // Enhanced keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.target.type === 'radio') {
                e.target.checked = true;
                e.target.dispatchEvent(new Event('change'));
            }
        });

        // Auto-save functionality
        function saveProgress() {
            if (quizContainer.style.display === 'none') return;
            
            const formData = new FormData(quizForm);
            const progress = {};
            
            // Save radio button selections
            for (let [key, value] of formData.entries()) {
                if (progress[key]) {
                    if (Array.isArray(progress[key])) {
                        progress[key].push(value);
                    } else {
                        progress[key] = [progress[key], value];
                    }
                } else {
                    progress[key] = value;
                }
            }
            
            // Save text inputs separately
            const textInputs = document.querySelectorAll('input[type="text"]');
            textInputs.forEach(input => {
                if (input.value.trim()) {
                    progress[input.name] = input.value.trim();
                }
            });
            
            try {
                localStorage.setItem('quizProgress', JSON.stringify(progress));
                localStorage.setItem('quizStartTime', Date.now());
            } catch (e) {
                console.log('Could not save progress to localStorage');
            }
        }

        function loadProgress() {
            try {
                const saved = localStorage.getItem('quizProgress');
                if (saved) {
                    const progress = JSON.parse(saved);
                    
                    // Restore selections
                    for (let [key, value] of Object.entries(progress)) {
                        if (Array.isArray(value)) {
                            // Handle checkbox groups
                            value.forEach(val => {
                                const input = document.querySelector(`input[name="${key}"][value="${val}"]`);
                                if (input) input.checked = true;
                            });
                        } else {
                            // Handle radio buttons
                            const radioInput = document.querySelector(`input[name="${key}"][value="${value}"]`);
                            if (radioInput) {
                                radioInput.checked = true;
                            }
                            
                            // Handle text inputs
                            const textInput = document.querySelector(`input[name="${key}"][type="text"]`);
                            if (textInput) {
                                textInput.value = value;
                            }
                        }
                    }
                    
                    updateProgress();
                    
                    // Show restore notification
                    showNotification('Previous progress restored!', 'success');
                }
            } catch (e) {
                console.log('Could not load saved progress');
            }
        }

        function clearProgress() {
            try {
                localStorage.removeItem('quizProgress');
                localStorage.removeItem('quizStartTime');
            } catch (e) {
                console.log('Could not clear progress');
            }
        }

        // Enhanced start quiz function
        function enhancedStartQuiz() {
            startQuiz();
            
            // Check for saved progress
            const saved = localStorage.getItem('quizProgress');
            if (saved) {
                setTimeout(() => {
                    if (confirm('You have previous quiz progress saved. Would you like to restore it?')) {
                        loadProgress();
                    } else {
                        clearProgress();
                    }
                }, 500);
            }
        }

        // Notification system
        function showNotification(message, type = 'info', duration = 3000) {
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <span class="notification-message">${message}</span>
                <button class="notification-close" onclick="this.parentElement.remove()" aria-label="Close notification">&times;</button>
            `;
            
            // Add to page
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            // Auto remove
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (notification.parentElement) {
                            notification.remove();
                        }
                    }, 300);
                }
            }, duration);
        }

        // Enhanced progress tracking with validation
        function updateProgress() {
            const answeredQuestions = getAnsweredQuestions();
            const progressPercentage = (answeredQuestions / totalQuestions) * 100;
            
            progressFill.style.width = progressPercentage + '%';
            progressText.textContent = `${answeredQuestions} of ${totalQuestions} questions answered`;
            
            // Update submit button state
            const submitBtn = document.querySelector('.submit-btn');
            if (submitBtn) {
                if (answeredQuestions === totalQuestions) {
                    submitBtn.textContent = 'Submit Assessment';
                    submitBtn.style.background = 'linear-gradient(135deg, #28a745, #20c997)';
                } else {
                    submitBtn.textContent = `Submit (${answeredQuestions}/${totalQuestions} answered)`;
                    submitBtn.style.background = 'linear-gradient(135deg, #6c757d, #5a6268)';
                }
            }
        }

        // Enhanced validation before submission
        function validateQuiz() {
            const errors = [];
            const answeredQuestions = getAnsweredQuestions();
            
            if (answeredQuestions < totalQuestions) {
                const unanswered = totalQuestions - answeredQuestions;
                errors.push(`Please answer all questions. ${unanswered} question(s) remaining.`);
            }
            
            // Check for empty text inputs
            const textInputs = document.querySelectorAll('input[type="text"]');
            textInputs.forEach((input, index) => {
                if (!input.value.trim()) {
                    errors.push(`Question ${input.closest('.question-card').dataset.question}: Please fill in the blank.`);
                }
            });
            
            // Check for checkbox questions with no selections
            const checkboxGroups = ['q5', 'q8'];
            checkboxGroups.forEach(group => {
                const checked = document.querySelectorAll(`input[name="${group}"]:checked`);
                if (checked.length === 0) {
                    const questionNum = group.replace('q', '');
                    errors.push(`Question ${questionNum}: Please select at least one option.`);
                }
            });
            
            return errors;
        }

        // Enhanced submit function with validation
        function submitQuiz(e) {
            e.preventDefault();
            
            // Validate before submission
            const errors = validateQuiz();
            if (errors.length > 0) {
                const errorMessage = 'Please complete the following:\n\n' + errors.join('\n');
                alert(errorMessage);
                
                // Scroll to first unanswered question
                const firstUnanswered = document.querySelector('.question-card:not(.answered)');
                if (firstUnanswered) {
                    firstUnanswered.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
                return;
            }
            
            // Show confirmation
            if (!confirm('Are you sure you want to submit your quiz? You cannot change your answers after submission.')) {
                return;
            }
            
            // Disable form during submission
            const submitBtn = document.querySelector('.submit-btn');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'Submitting...';
            submitBtn.disabled = true;
            
            // Calculate score
            let totalScore = 0;
            let results = [];
            let timeSpent = 0;
            
            // Calculate time spent
            const startTime = localStorage.getItem('quizStartTime');
            if (startTime) {
                timeSpent = Math.round((Date.now() - parseInt(startTime)) / 1000 / 60); // minutes
            }

            // Question 1
            const q1Answer = document.querySelector('input[name="q1"]:checked');
            const q1Result = checkSingleChoice('q1', q1Answer ? q1Answer.value : null);
            results.push(q1Result);
            totalScore += q1Result.earned;

            // Question 2
            const q2Answer = document.querySelector('input[name="q2"]:checked');
            const q2Result = checkSingleChoice('q2', q2Answer ? q2Answer.value : null);
            results.push(q2Result);
            totalScore += q2Result.earned;

            // Question 3
            const q3Answer = document.querySelector('input[name="q3"]:checked');
            const q3Result = checkSingleChoice('q3', q3Answer ? q3Answer.value : null);
            results.push(q3Result);
            totalScore += q3Result.earned;

            // Question 4 (Fill in blank)
            const q4Answer = document.getElementById('q4').value.trim().toLowerCase();
            const q4Result = checkFillBlank('q4', q4Answer);
            results.push(q4Result);
            totalScore += q4Result.earned;

            // Question 5 (Multiple correct)
            const q5Answers = Array.from(document.querySelectorAll('input[name="q5"]:checked')).map(input => input.value);
            const q5Result = checkMultipleChoice('q5', q5Answers);
            results.push(q5Result);
            totalScore += q5Result.earned;

            // Question 6
            const q6Answer = document.querySelector('input[name="q6"]:checked');
            const q6Result = checkSingleChoice('q6', q6Answer ? q6Answer.value : null);
            results.push(q6Result);
            totalScore += q6Result.earned;

            // Question 7
            const q7Answer = document.querySelector('input[name="q7"]:checked');
            const q7Result = checkSingleChoice('q7', q7Answer ? q7Answer.value : null);
            results.push(q7Result);
            totalScore += q7Result.earned;

            // Question 8 (Multiple correct)
            const q8Answers = Array.from(document.querySelectorAll('input[name="q8"]:checked')).map(input => input.value);
            const q8Result = checkMultipleChoice('q8', q8Answers);
            results.push(q8Result);
            totalScore += q8Result.earned;

            // Question 9 (Fill in blank)
            const q9Answer = document.getElementById('q9').value.trim().toLowerCase();
            const q9Result = checkFillBlank('q9', q9Answer);
            results.push(q9Result);
            totalScore += q9Result.earned;

            // Question 10
            const q10Answer = document.querySelector('input[name="q10"]:checked');
            const q10Result = checkSingleChoice('q10', q10Answer ? q10Answer.value : null);
            results.push(q10Result);
            totalScore += q10Result.earned;

            // Save results to localStorage for potential review
            const quizResults = {
                score: totalScore,
                percentage: Math.round((totalScore / 20) * 100),
                timeSpent: timeSpent,
                results: results,
                completedAt: new Date().toISOString()
            };
            
            try {
                localStorage.setItem('lastQuizResults', JSON.stringify(quizResults));
            } catch (e) {
                console.log('Could not save results');
            }

            // Clear progress since quiz is complete
            clearProgress();

            // Display Results
            setTimeout(() => {
                displayResults(totalScore, results, timeSpent);
                
                // Re-enable button (in case user wants to retake)
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }, 1000);
        }

        // Enhanced display results with more feedback
        function displayResults(totalScore, results, timeSpent = 0) {
            const totalPoints = 20;
            const percentage = Math.round((totalScore / totalPoints) * 100);
            const passed = percentage >= 70;

            // Update score display
            document.getElementById('finalScore').textContent = totalScore;
            document.getElementById('totalPoints').textContent = totalPoints;
            document.getElementById('percentage').textContent = percentage + '%';
            
            const passFailElement = document.getElementById('passFailResult');
            passFailElement.textContent = passed ? '‚úÖ PASSED' : '‚ùå FAILED';
            passFailElement.className = passed ? 'pass' : 'fail';

            // Enhanced score interpretation with specific feedback
            const scoreMessage = document.getElementById('scoreMessage');
            let message = '';
            let className = '';
            
            if (percentage >= 95) {
                message = 'üåü Outstanding! You have mastered the material completely.';
                className = 'excellent';
            } else if (percentage >= 90) {
                message = 'üéâ Excellent! You have a strong understanding of the material.';
                className = 'excellent';
            } else if (percentage >= 85) {
                message = 'üëç Very good! You understand most concepts well with minor gaps.';
                className = 'good';
            } else if (percentage >= 80) {
                message = '‚úÖ Good work! You have a solid grasp of the fundamentals.';
                className = 'good';
            } else if (percentage >= 70) {
                message = 'üìö You passed! Consider reviewing the areas you missed.';
                className = 'pass';
            } else if (percentage >= 60) {
                message = 'üìñ Close! Review the material and try again to improve your understanding.';
                className = 'fail';
            } else {
                message = 'üìù Please review the material thoroughly before retaking the quiz.';
                className = 'fail';
            }
            
            if (timeSpent > 0) {
                message += ` (Completed in ${timeSpent} minute${timeSpent !== 1 ? 's' : ''})`;
            }
            
            scoreMessage.textContent = message;
            scoreMessage.className = className;

            // Create detailed results with enhanced feedback
            const detailedResults = document.getElementById('detailedResults');
            detailedResults.innerHTML = '';

            // Add summary statistics
            const correctCount = results.filter(r => r.isCorrect).length;
            const summaryCard = document.createElement('div');
            summaryCard.className = 'summary-card';
            summaryCard.innerHTML = `
                <h3>Performance Summary</h3>
                <div class="summary-stats">
                    <div class="summary-stat">
                        <span class="stat-number">${correctCount}</span>
                        <span class="stat-label">Correct</span>
                    </div>
                    <div class="summary-stat">
                        <span class="stat-number">${totalQuestions - correctCount}</span>
                        <span class="stat-label">Incorrect</span>
                    </div>
                    <div class="summary-stat">
                        <span class="stat-number">${percentage}%</span>
                        <span class="stat-label">Score</span>
                    </div>
                    ${timeSpent > 0 ? `
                    <div class="summary-stat">
                        <span class="stat-number">${timeSpent}</span>
                        <span class="stat-label">Minutes</span>
                    </div>
                    ` : ''}
                </div>
            `;
            detailedResults.appendChild(summaryCard);

            const questionTitles = [
                'W3.CSS Framework Advantages',
                'Grid System Implementation',
                'Mobile-First Design Approach',
                'CSS Class Completion',
                'Semantic HTML Benefits',
                'Framework Performance Metrics',
                'ARIA Accessibility Standards',
                'Responsive Design Breakpoints',
                'HTML5 Semantic Elements',
                'Template Overall Assessment'
            ];

            // Add individual question results
            results.forEach((result, index) => {
                const resultCard = document.createElement('article');
                resultCard.className = `result-card ${result.isCorrect ? 'correct' : 'incorrect'}`;
                resultCard.setAttribute('role', 'region');
                resultCard.setAttribute('aria-label', `Question ${index + 1} result`);
                
                // Enhanced feedback based on question type
                let feedback = '';
                if (!result.isCorrect) {
                    if (index === 3 || index === 8) { // Fill-in-blank questions
                        feedback = '<div class="feedback">üí° <strong>Tip:</strong> This requires an exact match. Check the lesson material for the specific term.</div>';
                    } else if (index === 4 || index === 7) { // Multiple choice questions
                        feedback = '<div class="feedback">üí° <strong>Tip:</strong> Multiple answers were required. Make sure to select all correct options.</div>';
                    } else {
                        feedback = '<div class="feedback">üí° <strong>Tip:</strong> Review the relevant section to understand this concept better.</div>';
                    }
                }
                
                resultCard.innerHTML = `
                    <div class="result-header">
                        <h4>Question ${index + 1}: ${questionTitles[index]}</h4>
                        <div class="result-score">
                            <span class="points">${result.earned}/${result.total} points</span>
                            <span class="result-status" aria-label="${result.isCorrect ? 'Correct' : 'Incorrect'}">${result.isCorrect ? '‚úÖ' : '‚ùå'}</span>
                        </div>
                    </div>
                    <div class="result-details">
                        <div class="answer-comparison">
                            <div class="user-answer">
                                <strong>Your answer:</strong> ${result.userAnswer}
                            </div>
                            <div class="correct-answer">
                                <strong>Correct answer:</strong> ${result.correctAnswer}
                            </div>
                        </div>
                        ${feedback}
                        <div class="explanation">
                            <strong>Explanation:</strong> ${result.explanation}
                        </div>
                    </div>
                `;
                
                detailedResults.appendChild(resultCard);
            });

            // Show results, hide quiz
            quizContainer.style.display = 'none';
            quizResults.style.display = 'block';
            
            // Scroll to results with smooth animation
            setTimeout(() => {
                quizResults.scrollIntoView({ behavior: 'smooth' });
            }, 100);

            // Announce results to screen readers
            const announcement = `Quiz completed. You scored ${totalScore} out of ${totalPoints} points, ${percentage}%. ${passed ? 'You passed the assessment.' : 'You did not pass the assessment.'}`;
            announceToScreenReader(announcement);
            
            // Show completion notification
            showNotification(passed ? 'Congratulations! You passed the quiz!' : 'Quiz completed. Review the feedback and try again!', passed ? 'success' : 'warning', 5000);
        }

        // Update start button to use enhanced version
        if (startQuizBtn) {
            startQuizBtn.removeEventListener('click', startQuiz);
            startQuizBtn.addEventListener('click', enhancedStartQuiz);
        }

        // Auto-save progress periodically
        setInterval(() => {
            if (quizContainer.style.display !== 'none') {
                saveProgress();
            }
        }, 30000); // Save every 30 seconds

        // Save progress on form changes
        document.addEventListener('change', function(e) {
            if (e.target.closest('#quizForm')) {
                setTimeout(saveProgress, 100); // Small delay to ensure value is updated
            }
        });

        // Mark questions as answered for visual feedback
        function updateQuestionStatus() {
            document.querySelectorAll('.question-card').forEach((card, index) => {
                const questionNum = index + 1;
                let isAnswered = false;
                
                if (questionNum === 4 || questionNum === 9) {
                    // Text input questions
                    const input = card.querySelector('input[type="text"]');
                    isAnswered = input && input.value.trim().length > 0;
                } else if (questionNum === 5 || questionNum === 8) {
                    // Checkbox questions
                    const checked = card.querySelectorAll('input[type="checkbox"]:checked');
                    isAnswered = checked.length > 0;
                } else {
                    // Radio button questions
                    const checked = card.querySelector('input[type="radio"]:checked');
                    isAnswered = !!checked;
                }
                
                card.classList.toggle('answered', isAnswered);
                card.classList.toggle('unanswered', !isAnswered);
            });
        }

        // Update question status on changes
        document.addEventListener('change', updateQuestionStatus);
        document.addEventListener('input', updateQuestionStatus);
    </script>

    <!-- Additional CSS for Enhanced Quiz Features -->
    <style>
        /* Enhanced question state indicators */
        .question-card.answered {
            border-left-color: #28a745;
        }
        
        .question-card.unanswered {
            border-left-color: #ffc107;
        }
        
        .question-card.answered::before {
            content: "‚úì";
            position: absolute;
            top: 15px;
            right: 15px;
            background: #28a745;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        }

        /* Notification system */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            z-index: 9999;
            display: flex;
            align-items: center;
            gap: 15px;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            max-width: 400px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification-success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            color: #155724;
        }

        .notification-warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            color: #856404;
        }

        .notification-info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            color: #0c5460;
        }

        .notification-close {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            padding: 0;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: inherit;
        }

        .notification-message {
            flex: 1;
            font-weight: 500;
        }

        /* Enhanced submit button states */
        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        /* Summary statistics card */
        .summary-card {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            text-align: center;
        }

        .summary-card h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 20px;
        }

        .summary-stat {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Enhanced feedback styling */
        .feedback {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 6px;
            padding: 12px;
            margin: 15px 0;
            font-size: 0.95rem;
            color: #856404;
        }

        .feedback strong {
            color: #856404;
        }

        /* Visual improvements for options */
        .option:has(input:checked) {
            border-color: #28a745;
            background-color: rgba(40, 167, 69, 0.1);
        }

        .checkbox-option:has(input:checked) {
            border-color: #20c997;
            background-color: rgba(32, 201, 151, 0.1);
        }

        /* Enhanced progress bar animation */
        .progress-fill {
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background-image: linear-gradient(
                -45deg,
                rgba(255, 255, 255, 0.2) 25%,
                transparent 25%,
                transparent 50%,
                rgba(255, 255, 255, 0.2) 50%,
                rgba(255, 255, 255, 0.2) 75%,
                transparent 75%,
                transparent
            );
            background-size: 20px 20px;
            animation: progressMove 1s linear infinite;
        }

        @keyframes progressMove {
            0% { background-position: 0 0; }
            100% { background-position: 20px 20px; }
        }

        /* Improved form validation feedback */
        .fill-blank:invalid {
            border-color: #dc3545;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
        }

        .fill-blank:valid {
            border-color: #28a745;
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.1);
        }

        /* Enhanced mobile responsiveness for notifications */
        @media (max-width: 767px) {
            .notification {
                top: 10px;
                right: 10px;
                left: 10px;
                max-width: none;
                transform: translateY(-100px);
            }

            .notification.show {
                transform: translateY(0);
            }

            .summary-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .question-card.answered::before {
                top: 10px;
                right: 10px;
                width: 20px;
                height: 20px;
                font-size: 12px;
            }
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            .notification {
                transition: none;
            }

            .progress-fill::after {
                animation: none;
            }

            .question-card,
            .result-card {
                transition: none;
            }
        }

        /* High contrast mode improvements */
        @media (prefers-contrast: high) {
            .notification {
                border: 2px solid currentColor;
            }

            .option:has(input:checked) {
                border-width: 3px;
            }

            .question-card.answered::before {
                border: 2px solid white;
            }
        }

        /* Print styles for enhanced quiz */
        @media print {
            .notification,
            .quiz-progress,
            .question-card.answered::before {
                display: none;
            }

            .summary-card {
                background: white !important;
                border: 2px solid #000;
            }
        }

        /* Loading state for submit button */
        .submit-btn.loading {
            position: relative;
            color: transparent;
        }

        .submit-btn.loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            border: 2px solid #ffffff40;
            border-top: 2px solid #ffffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* Enhanced tooltip for hints */
        .hint {
            position: relative;
        }

        .hint::before {
            content: "üí°";
            margin-right: 8px;
        }

        /* Smooth animations for state changes */
        .question-card {
            transition: border-color 0.3s ease, transform 0.3s ease;
        }

        .option {
            transition: all 0.3s ease;
        }

        .result-card {
            animation: slideInUp 0.5s ease-out;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Enhanced focus styles for quiz elements */
        .option:focus-within {
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.2);
        }

        .fill-blank:focus {
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.2);
            border-color: #28a745;
        }

        /* Visual feedback for time spent */
        .time-badge {
            display: inline-block;
            background: #17a2b8;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-left: 10px;
        }
    </style>
</body>
</html>
